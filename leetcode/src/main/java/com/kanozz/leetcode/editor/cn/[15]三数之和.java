//ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡
//å¤çš„ä¸‰å…ƒç»„ã€‚ 
//
// æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
//è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = []
//è¾“å‡ºï¼š[]
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [0]
//è¾“å‡ºï¼š[]
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 0 <= nums.length <= 3000 
// -105 <= nums[i] <= 105 
// 
// Related Topics æ•°ç»„ åŒæŒ‡é’ˆ æ’åº 
// ğŸ‘ 3630 ğŸ‘ 0


import java.util.Arrays;
import java.util.List;

//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {

        if (nums.length<3){
            return Collections.emptyList();
        }
        Arrays.sort(nums);

        /**
         *
         * -1,0,1,2,-1,-4
         *
         * -4,-1,-1,0,1,2
         * å¦‚æœä¸‰å±‚å¾ªç¯çš„è¯
         * å¯¹äº m
         * éå†n - len n > m
         * å¯¹äº n
         * éå† k - len k > n
         * å¦‚æœæ•°ç»„æ˜¯é€’å¢çš„
         * é‚£ä¹ˆå¯¹äº
         * n å’Œ k  è€Œè¨€
         * m + n + k = 0
         * åˆ™ä¸‹æ¬¡å¿…ç„¶åªæœ‰
         * nå¢åŠ  kå‡å°‘
         */
        List<List<Integer>> three = new ArrayList<>();

        for (int m = 0; m < nums.length; m++) {
            // æ­¤ç§æƒ…å†µè‚¯å®šä¸å­˜åœ¨ä»ç„¶æ»¡è¶³çš„,ç›´æ¥é€€å‡º
            if (nums[m] > 0){
                return three;
            }
            /**
             * ä¿è¯
             * nums[m] <= nums[n] <= nums[k]
             * m < n < k
             *
             * å¦‚æœå½“å‰mæŒ‡å‘å’Œå‰ä¸€ä¸ªå…ƒç´ ç›¸åŒ,ç›´æ¥è¿‡æ»¤è¿™ä¸ªå…ƒç´ 
             * å¯¹äº m æŒ‡é’ˆè€Œè¨€,å¦‚æœ m æŒ‡é’ˆ å½“å‰å’Œä¸‹ä¸€ä¸ªå…ƒç´ å€¼ç›¸åŒ
             * 0,0,0,0,...,0 è¿™ç§æƒ…å†µä¸‹
             * m = 0 æ‰¾åˆ°äº† 0,0,0 ç»„åˆ
             *
             * ä¹Ÿå°±æ˜¯ä¸€è½®å¯ä»¥æ‰¾åˆ°åŒ…å« nums[m]çš„æ‰€æœ‰ç¬¦åˆç»„åˆ A
             *
             * å¯¹äºä¸‹è½®è€Œè¨€ï¼Œå¦‚æœå…ƒç´ ç›¸åŒï¼Œé‚£ä¹ˆè¿™è½®æ‰¾åˆ°çš„ç»„åˆ B
             * æœ‰å…³ç³» A åŒ…å« B
             * å› ä¸ºéœ€è¦å»å¤„ ç›¸åŒå…ƒç´ 
             */
            if (m != 0 && nums[m] == nums[m-1]){
                continue;
            }
            // å…ƒç´ ä¸èƒ½é‡å¤ä½¿ç”¨,éœ€è¦ä»å½“å‰æ•°å­—çš„ä¸‹ä¸€ä½å¼€å§‹
            // è®© kæŒ‡é’ˆæŒ‡å‘ æœ€åä¸€ä¸ªå…ƒç´ 
            int n = m+1,k = nums.length-1;
            /**
             * æ‰¾åˆ° ä»¥ nums[m] å¼€å¤´çš„ç»„åˆ
             * è¿™ä¸€è½®ä¼šæŠŠåŒ…å« nums[m] æ‰€æœ‰æ»¡è¶³çš„æ‰¾å‡ºæ¥
             *
             */
            for (; n < k;) {
                int sum = nums[m] + nums[n] + nums[k];
                if (sum == 0){
                    three.add(Arrays.asList(nums[m],nums[n],nums[k]));
                    /**
                     * ç§»åŠ¨ n å’Œ k æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ»¡è¶³çš„
                     * æ­¤æ—¶ n å’Œ k éƒ½å·²ç»ä½¿ç”¨äº†
                     * å¯¹äº n è€Œè¨€ä¸‹ä¸ªæ•°è‚¯å®šå¤§äºç­‰äºå½“å‰æ•°
                     * æ­¤æ—¶ ç§»åŠ¨ k æ‰¾åˆ°ä¸€ä¸ªå°äºnums[k]çš„æ•°
                     *
                     * ä¸ç§»åŠ¨ n æŒ‡é’ˆ å› ä¸ºæ­¤æ—¶ k æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ 
                     * æ”¹å˜äº†,å¦‚æœn æŒ‡å‘çš„ä¸‹ä¸ªå…ƒç´  å’Œnums[n]
                     * ç›¸åŒé‚£ä¹ˆæ˜¯ä¸ä¼š
                     *
                     */
                    int num = nums[k];
                    while (n < k && num == nums[k]){
                        k--;
                    }

                }
                /**
                 * æ­¤æƒ…å†µä¸‹è¯´æ˜ k æŒ‡å‘çš„å€¼åå¤§äº†
                 * ç§»åŠ¨ k æŒ‡é’ˆ
                 */
                else if (sum > 0){
                    k--;
                }
                /**
                 * æ­¤æƒ…å†µè¯´æ˜ å¯¹äºå½“å‰mè€Œè¨€ nåå°äº†
                 * ç§»åŠ¨ n æŒ‡é’ˆ
                 */
                else {
                    n++;
                }

            }
        }

        return three;
    }
}
//leetcode submit region end(Prohibit modification and deletion)
